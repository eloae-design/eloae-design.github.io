<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .items-container {
            padding-top: 20px;
        }
        .product-list{
            width: 90%;
            min-width: 400px;
            margin:auto;
            border-collapse: collapse;
        }
        th{
            background-color: darkblue;
            color:white;
            font-weight: bolder;
            border: 1px solid brown;
        }

        td {
            border: 1px solid black;
        }

        th, td {
            max-width: 80%;
            padding: 10px;
            text-align: center;
        }

        td img {
            height: 40px;
        }

        .searchData{
            display: flex;
            justify-content: center;
        }

        .searchKey{
            border-radius: 7px;
            padding: 5px;
        }
    </style>

</head>
<body>

    <div class="searchData" id="searchData">
        <input onkeyup="search()" type="text" class="searchKey" id="searchKey" placeholder="Product's Name">
    </div>

    <div class="items-container" id="items-container">
        <table class="product-list" id="product-list">
            <tr>
                <th>No.</th>
                <th>NAME</th>
                <th>PRICE</th>
                <th>CATEGORY</th>
                <th>PHOTO</th>
            </tr>
<!-- 
            <tr>
                <td>No.</td>
                <td>NAME</td>
                <td>PRICE</td>
                <td>CATEGORY</td>
                <td>PHOTO</td> 
            </tr>-->
        </table>
    </div>
</body>
<script>
    let table = document.getElementById("product-list");
    let tabledata = `<tr>
                <th>No.</th>
                <th>NAME</th>
                <th>PRICE</th>
                <th>CATEGORY</th>
                <th>PHOTO</th>
            </tr>`;
    
    async function getData() {
        const response = await fetch("https://fakestoreapi.com/products");
        const result = await response.json();
        result.forEach((data) => {
            tabledata += `<tr>
                <td>${data.id}</td>
                <td>${data.title}</td>
                <td>${data.price}</td>
                <td>${data.category}</td>
                <td><img src="${data.image}"></td> 
            </tr>`;
            
        });
        table.innerHTML=tabledata;
    } 
    getData();
    
    function search() {
        let input=document.getElementById("searchKey").value.toLowerCase();
        let table = document.getElementById("product-list");
        let tr = table.getElementsByTagName("tr");

        for (let i=0; i<tr.length; i++) {
            let td = tr[i].getElementsByTagName('td')[1];

            if(td){
                productName = td.innerText.toLowerCase();
                if(productName.indexOf(input) >-1){
                    tr[i].style.display=""
                }else {
                    tr[i].style.display="none";
                }
            }
        }
        
    }
</script>


</html>